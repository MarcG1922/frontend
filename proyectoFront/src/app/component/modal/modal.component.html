@if (show) {
  <div class="modal">
    <div class="modal-overlay" (click)="onClose()"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2>{{ title }}</h2>
        <button class="close-button" (click)="onClose()">×</button>
      </div>
      <div class="modal-body">
        @if (!isCreatingComment) {
          <img [src]="imageUrl" [alt]="title">
          <div class="modal-text">
            <h3>Descripción del evento</h3>
            <p>{{ description }}</p>
            <div class="event-details">
              <p><strong>Fecha:</strong> {{ eventDate }}</p>
              <p><strong>Lugar:</strong> {{ eventLocation }}</p>
              <p><strong>Hora:</strong> {{ eventTime }}</p>
            </div>
          </div>
          
          <div class="modal-comments">
            <h3>Comentarios</h3>
            @if (comentarios.length > 0) {
              <ul>
                @for (comentario of comentarios; track trackByComentarioId) {
                  <li>
                    <strong>{{ comentario.usuario }}</strong> - {{ comentario.comentario }}
                    <small>{{ comentario.fecha | date: 'short' }}</small>
                  </li>
                }
              </ul>
            } @else {
              <p>No hay comentarios para este evento.</p>
            }

            <button (click)="toggleCreateComment()">Crear Comentario</button>
          </div>
        } @else {
          <div class="create-comment-form">
            <textarea [formControl]="newCommentControl" placeholder="Escribe tu comentario..."></textarea>
            <button (click)="submitComment()">Enviar</button>
          </div>
        }
      </div>
    </div>
  </div>
}
